<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Recipe (hardcaml.Hardcaml.Recipe)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">hardcaml</a> &#x00BB; <a href="../index.html">Hardcaml</a> &#x00BB; Recipe</nav><header class="odoc-preamble"><h1>Module <code><span>Hardcaml.Recipe</span></code></h1><p>Hardware generation in an imperative style.</p><p>This module is undergoing significant rewriting and refactoring, and subject to many breaking changes.</p></header><div class="odoc-content"><div class="odoc-include"><div class="odoc-spec"><div class="spec type" id="type-var" class="anchored"><a href="#type-var" class="anchor"></a><code><span><span class="keyword">type</span> var</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="xref-unresolved">Base</span>.Monad.S <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <span class="xref-unresolved">t</span></span> := <span><span class="type-var">'a</span> <span class="xref-unresolved">t</span></span></span></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-(&gt;&gt;=)" class="anchored"><a href="#val-(&gt;&gt;=)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;&gt;=) : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(&gt;&gt;|)" class="anchored"><a href="#val-(&gt;&gt;|)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;&gt;|) : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Monad_infix" class="anchored"><a href="#module-Monad_infix" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Monad_infix/index.html">Monad_infix</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bind" class="anchored"><a href="#val-bind" class="anchor"></a><code><span><span class="keyword">val</span> bind : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-return" class="anchored"><a href="#val-return" class="anchor"></a><code><span><span class="keyword">val</span> return : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map" class="anchored"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-join" class="anchored"><a href="#val-join" class="anchor"></a><code><span><span class="keyword">val</span> join : <span><span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-ignore_m" class="anchored"><a href="#val-ignore_m" class="anchor"></a><code><span><span class="keyword">val</span> ignore_m : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-all" class="anchored"><a href="#val-all" class="anchor"></a><code><span><span class="keyword">val</span> all : <span><span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-all_unit" class="anchored"><a href="#val-all_unit" class="anchor"></a><code><span><span class="keyword">val</span> all_unit : <span><span><span>unit <a href="#type-t">t</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Let_syntax" class="anchored"><a href="#module-Let_syntax" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Let_syntax/index.html">Let_syntax</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-skip" class="anchored"><a href="#val-skip" class="anchor"></a><code><span><span class="keyword">val</span> skip : <span><span class="xref-unresolved">Base</span>.unit <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>skip 1 cycle</p></div></div><div class="odoc-spec"><div class="spec value" id="val-wait" class="anchored"><a href="#val-wait" class="anchor"></a><code><span><span class="keyword">val</span> wait : <span><span class="xref-unresolved">Base</span>.int <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Base</span>.unit <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>skip n cycles</p></div></div><div class="odoc-spec"><div class="spec value" id="val-par" class="anchored"><a href="#val-par" class="anchor"></a><code><span><span class="keyword">val</span> par : <span>?comb_fin:<span class="xref-unresolved">Base</span>.bool <span class="arrow">&#45;&gt;</span></span> <span><span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="xref-unresolved">Base</span>.list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Base</span>.list</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Perform ts in parallel. <code>comb_fin</code> controls the finish signal generation. When false and extra cycle is taken after the ts complete to generate the <code>fin</code> signal. Otherwise extra combinatorial logic is generated to ensure the <code>fin</code> signal toggles on the same cycle as the last t to complete.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-par2" class="anchored"><a href="#val-par2" class="anchor"></a><code><span><span class="keyword">val</span> par2 : <span>?comb_fin:<span class="xref-unresolved">Base</span>.bool <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(|||)" class="anchored"><a href="#val-(|||)" class="anchor"></a><code><span><span class="keyword">val</span> (|||) : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-cond" class="anchored"><a href="#val-cond" class="anchor"></a><code><span><span class="keyword">val</span> cond : <span><a href="../Signal/index.html#type-t">Signal.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Base</span>.unit <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>cond c t f</code> performs <code>t</code> if <code>c</code> is high, otherwise performs <code>f</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-iter" class="anchored"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><a href="../Signal/index.html#type-t">Signal.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>iter c t</code> perform <code>t</code> while <code>c</code> is high</p></div></div><div class="odoc-spec"><div class="spec value" id="val-forever" class="anchored"><a href="#val-forever" class="anchor"></a><code><span><span class="keyword">val</span> forever : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>perform t forever</p></div></div><div class="odoc-spec"><div class="spec value" id="val-wait_while" class="anchored"><a href="#val-wait_while" class="anchor"></a><code><span><span class="keyword">val</span> wait_while : <span><a href="../Signal/index.html#type-t">Signal.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Base</span>.unit <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>wait until <code>t</code> is low</p></div></div><div class="odoc-spec"><div class="spec value" id="val-wait_until" class="anchored"><a href="#val-wait_until" class="anchor"></a><code><span><span class="keyword">val</span> wait_until : <span><a href="../Signal/index.html#type-t">Signal.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Base</span>.unit <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>wait until <code>t</code> is high</p></div></div><div class="odoc-spec"><div class="spec value" id="val-follow" class="anchored"><a href="#val-follow" class="anchor"></a><code><span><span class="keyword">val</span> follow : 
  <span>clock:<a href="../Signal/index.html#type-t">Signal.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>enable:<a href="../Signal/index.html#type-t">Signal.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Signal/index.html#type-t">Signal.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Signal/index.html#type-t">Signal.t</a> * <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>follow t and get result</p></div></div><div class="odoc-spec"><div class="spec value" id="val-new_var" class="anchored"><a href="#val-new_var" class="anchor"></a><code><span><span class="keyword">val</span> new_var : <span>?name:<span class="xref-unresolved">Base</span>.string <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Base</span>.int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-var">var</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>create an new <code>n</code> bit register</p></div></div><div class="odoc-spec"><div class="spec value" id="val-read_var" class="anchored"><a href="#val-read_var" class="anchor"></a><code><span><span class="keyword">val</span> read_var : <span><a href="#type-var">var</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Signal/index.html#type-t">Signal.t</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>read value of register</p></div></div><div class="odoc-spec"><div class="spec value" id="val-assign" class="anchored"><a href="#val-assign" class="anchor"></a><code><span><span class="keyword">val</span> assign : <span><span><span>(<a href="#type-var">var</a> * <a href="../Signal/index.html#type-t">Signal.t</a>)</span> <span class="xref-unresolved">Base</span>.list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Base</span>.unit <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>assign list of registers - takes 1 cycle</p></div></div><div class="odoc-spec"><div class="spec value" id="val-write_var" class="anchored"><a href="#val-write_var" class="anchor"></a><code><span><span class="keyword">val</span> write_var : <span><a href="#type-var">var</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Signal/index.html#type-t">Signal.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Base</span>.unit <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>write register with value</p></div></div><div class="odoc-spec"><div class="spec value" id="val-modify_var" class="anchored"><a href="#val-modify_var" class="anchor"></a><code><span><span class="keyword">val</span> modify_var : <span><span>( <span><a href="../Signal/index.html#type-t">Signal.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Signal/index.html#type-t">Signal.t</a> )</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-var">var</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Base</span>.unit <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>modify current value of resgiter</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rewrite_var" class="anchored"><a href="#val-rewrite_var" class="anchor"></a><code><span><span class="keyword">val</span> rewrite_var : <span><span>( <span><a href="../Signal/index.html#type-t">Signal.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Signal/index.html#type-t">Signal.t</a> )</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-var">var</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-var">var</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Base</span>.unit <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>read a register, modify value, write a second register</p></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Same" class="anchored"><a href="#module-type-Same" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Same/index.html">Same</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Same" class="anchored"><a href="#module-Same" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Same/index.html">Same</a></span><span> (<a href="Same/argument-1-X/index.html">X</a> : <a href="../Interface/module-type-Pre/index.html">Interface.Pre</a>) : <a href="module-type-Same/index.html">Same</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="module-type-Same/index.html#type-same">same</a></span> = <span><span class="type-var">'a</span> <a href="Same/argument-1-X/index.html#type-t">X.t</a></span></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-SVar" class="anchored"><a href="#module-SVar" class="anchor"></a><code><span><span class="keyword">module</span> <a href="SVar/index.html">SVar</a></span><span> : <a href="module-type-Same/index.html">Same</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="module-type-Same/index.html#type-same">same</a></span> = <span class="type-var">'a</span></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-SList" class="anchored"><a href="#module-SList" class="anchor"></a><code><span><span class="keyword">module</span> <a href="SList/index.html">SList</a></span><span> : <a href="module-type-Same/index.html">Same</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="module-type-Same/index.html#type-same">same</a></span> = <span><span class="type-var">'a</span> <span class="xref-unresolved">Base</span>.list</span></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-SArray" class="anchored"><a href="#module-SArray" class="anchor"></a><code><span><span class="keyword">module</span> <a href="SArray/index.html">SArray</a></span><span> : <a href="module-type-Same/index.html">Same</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="module-type-Same/index.html#type-same">same</a></span> = <span><span class="type-var">'a</span> <span class="xref-unresolved">Base</span>.array</span></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-STuple2" class="anchored"><a href="#module-STuple2" class="anchor"></a><code><span><span class="keyword">module</span> <a href="STuple2/index.html">STuple2</a></span><span> : <a href="module-type-Same/index.html">Same</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="module-type-Same/index.html#type-same">same</a></span> = <span class="type-var">'a</span> * <span class="type-var">'a</span></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-STuple3" class="anchored"><a href="#module-STuple3" class="anchor"></a><code><span><span class="keyword">module</span> <a href="STuple3/index.html">STuple3</a></span><span> : <a href="module-type-Same/index.html">Same</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="module-type-Same/index.html#type-same">same</a></span> = <span class="type-var">'a</span> * <span class="type-var">'a</span> * <span class="type-var">'a</span></span></span></code></div></div></div></div></body></html>