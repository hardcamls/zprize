<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Waveform (hardcaml_waveterm.Hardcaml_waveterm.Waveform)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">hardcaml_waveterm</a> &#x00BB; <a href="../index.html">Hardcaml_waveterm</a> &#x00BB; Waveform</nav><header class="odoc-preamble"><h1>Module <code><span>Hardcaml_waveterm.Waveform</span></code></h1><p>A waveform is a mutable value that represents the outcome of a simulation; it holds a time series of values for a number of ports. The waveform is updated by running the simulation.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_t" class="anchored"><a href="#val-sexp_of_t" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_t : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-create" class="anchored"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : 
  <span><span><span>( <span class="type-var">'i</span>, <span class="type-var">'o</span> )</span> <a href="../../../hardcaml/Hardcaml/Cyclesim/index.html#type-t">Hardcaml.Cyclesim.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a> * <span><span>( <span class="type-var">'i</span>, <span class="type-var">'o</span> )</span> <a href="../../../hardcaml/Hardcaml/Cyclesim/index.html#type-t">Hardcaml.Cyclesim.t</a></span></span></code></div><div class="spec-doc"><p>Create waveform. Returns a new simulation object that side effects the waveform.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-create_from_data" class="anchored"><a href="#val-create_from_data" class="anchor"></a><code><span><span class="keyword">val</span> create_from_data : 
  <span>waves:<span><span class="xref-unresolved">Hardcaml_waveterm__Wave.t</span> <span class="xref-unresolved">Base</span>.list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>ports:<span><span class="xref-unresolved">Hardcaml_waveterm__Port.t</span> <span class="xref-unresolved">Base</span>.list</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-waves" class="anchored"><a href="#val-waves" class="anchor"></a><code><span><span class="keyword">val</span> waves : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Hardcaml_waveterm__Wave.t</span> <span class="xref-unresolved">Base</span>.array</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-combine" class="anchored"><a href="#val-combine" class="anchor"></a><code><span><span class="keyword">val</span> combine : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Combine two waveforms into one waveform</p></div></div><div class="odoc-spec"><div class="spec type" id="type-with_options" class="anchored"><a href="#type-with_options" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a with_options</span></span><span> =
  <span>?display_rules:<a href="../Display_rules/index.html#type-t">Display_rules.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?display_width:<span class="xref-unresolved">Base</span>.int <span class="arrow">&#45;&gt;</span></span>
  <span>?display_height:<span class="xref-unresolved">Base</span>.int <span class="arrow">&#45;&gt;</span></span>
  <span>?display_values:<span class="xref-unresolved">Base</span>.bool <span class="arrow">&#45;&gt;</span></span>
  <span>?wave_width:<span class="xref-unresolved">Base</span>.int <span class="arrow">&#45;&gt;</span></span>
  <span>?wave_height:<span class="xref-unresolved">Base</span>.int <span class="arrow">&#45;&gt;</span></span>
  <span>?signals_width:<span class="xref-unresolved">Base</span>.int <span class="arrow">&#45;&gt;</span></span>
  <span>?start_cycle:<span class="xref-unresolved">Base</span>.int <span class="arrow">&#45;&gt;</span></span>
  <span>?signals_alignment:<a href="../Text_alignment/index.html#type-t">Text_alignment.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Waveform configuration options.</p><p><code>display_rules</code> see <code>Display_rules</code>. A waveform may be constructed once and displayed multiple times with differing options.</p><p><code>wave_height</code> sets the number of rows each wave is displayed with.</p><ul><li><code>&lt;0</code> an exception is raised</li><li><code>0</code> 2 lines per wave. This show transitions but not the data for multi-bit signals.</li><li><code>1</code> 2 lines for binary data, 3 lines for multi-bit data. This is the default and most compact view.</li><li><code>n</code> (n+1) lines per wave.</li></ul><p><code>wave_width</code> sets the number of chars used to render each clock cycle.</p><ul><li><code>n&gt;=0</code> ((n+1)*2) characters per cycle. This ensures that the clock is properly rendered when <code>n=0</code>. The default of <code>3</code> allows up to 7 chars per cycle to be rendered to represent data values in the waveform.</li></ul><ul><li><code>n&lt;0</code> (-n) cycles per character. Characters in the waveform within which multiple transitions occur are displayed with a double veritical bar.</li></ul><p><code>display_width</code> and <code>display_height</code> simply set the overall size of the displayed waveform. An auto scaling routine assigns approximately <code>1/3</code> of the display for the signals and values windows. The default size is 70 character wide and 20 high. The minimum size is 7 characters wide and 3 high and an exception is raise otherwise.</p><p><code>signals_alignment</code> changes the text alignment of the displayed signals names. By default this is Wave_format.Left.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sort_ports_and_formats" class="anchored"><a href="#val-sort_ports_and_formats" class="anchor"></a><code><span><span class="keyword">val</span> sort_ports_and_formats : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Display_rules/index.html#type-t">Display_rules.t</a> <span class="xref-unresolved">Base</span>.option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Hardcaml_waveterm__Wave.t</span> <span class="xref-unresolved">Base</span>.array</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-to_buffer" class="anchored"><a href="#val-to_buffer" class="anchor"></a><code><span><span class="keyword">val</span> to_buffer : <span><span>( <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Base</span>.Buffer.t )</span> <a href="#type-with_options">with_options</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-to_string" class="anchored"><a href="#val-to_string" class="anchor"></a><code><span><span class="keyword">val</span> to_string : <span><span>( <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Base</span>.string )</span> <a href="#type-with_options">with_options</a></span></span></code></div><div class="spec-doc"><p>Convert waveform to a string.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-print" class="anchored"><a href="#val-print" class="anchor"></a><code><span><span class="keyword">val</span> print : 
  <span><span>( <span>?show_digest:<span class="xref-unresolved">Base</span>.bool <span class="arrow">&#45;&gt;</span></span>
    <span>?channel:<span class="xref-unresolved">Stdio</span>.Out_channel.t <span class="arrow">&#45;&gt;</span></span>
    <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
    <span class="xref-unresolved">Base</span>.unit )</span>
    <a href="#type-with_options">with_options</a></span></span></code></div><div class="spec-doc"><p>Print waveform to <code>channel</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-expect" class="anchored"><a href="#val-expect" class="anchor"></a><code><span><span class="keyword">val</span> expect : 
  <span><span>( <span>?show_digest:<span class="xref-unresolved">Base</span>.bool <span class="arrow">&#45;&gt;</span></span>
    <span>?serialize_to:<span class="xref-unresolved">Base</span>.string <span class="arrow">&#45;&gt;</span></span>
    <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
    <span class="xref-unresolved">Base</span>.unit )</span>
    <a href="#type-with_options">with_options</a></span></span></code></div><div class="spec-doc"><p>Print waveforms in expect tests. This is very similar to <code>print</code> except it always outputs to <code>stdout</code> and will optionally serialize the waveform to disk for offline viewing if the environment variable <code>EXPECT_TEST_WAVEFORM=1</code> and the <code>serialize_to</code> filename is set.</p><p>Simulation digests are shown by default.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-equal" class="anchored"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Base</span>.bool</span></code></div><div class="spec-doc"><p>For testing marshalling functions.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Serialize" class="anchored"><a href="#module-Serialize" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Serialize/index.html">Serialize</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>